{"version":3,"file":"js/353.d77d00d1.js","mappings":"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","sources":["webpack://vue-music/./src/components/Search.vue","webpack://vue-music/./src/components/Search.vue?0923"],"sourcesContent":["<template>\r\n  <div>\r\n    <header id=\"search-top1\">\r\n        <van-icon @click=\"this.$router.push('/')\" name=\"arrow-left\" size=\"0.5rem\" />\r\n        <input type=\"text\" v-model=\"searchInput\" @keydown.enter=\"search(0)\" autofocus id=\"search_input\">\r\n    </header>\r\n    <header id=\"search-top2\">\r\n        <p>历史</p>\r\n        <span v-for=\"(item,i) in searchHistory\" :key=\"i\" @click=\"search(item)\">{{item}}</span>\r\n        <van-icon @click=\"deleteSearchHistory\" id=\"delete_icon\" name=\"delete\" size=\"0.5rem\" />\r\n    </header>\r\n    <!-- 歌曲区域 -->\r\n    <div class=\"musicList\">\r\n        <van-row v-for=\"(item,i) in searchList\" :key=\"item.id\" align=\"center\" style=\"margin-top:10px;height:1rem\">\r\n            <van-col span=\"2\"><span style=\"margin:12px\">{{i+1}}</span></van-col>\r\n            <van-col span=\"16\" class=\"left\" @click=\"play(item,i)\">\r\n            <h4 style=\"margin:0px\">{{item.name}}</h4>\r\n            <span style=\"fontSize:6px;color:gray\">{{getArtists(item.artists)}}</span>\r\n            </van-col>\r\n            <van-col span=\"4\" offset=\"2\" class=\"right\">\r\n            <van-icon v-if=\"item.mvid!=0\" name=\"video-o\" size=\"0.6rem\"/>\r\n            <van-icon class=\"right-img\" name=\"bars\" size=\"0.6rem\"/>\r\n            </van-col>\r\n        </van-row>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapMutations} from 'vuex'\r\nexport default {\r\n    data(){\r\n        return{\r\n            searchInput:'林俊杰',\r\n            searchList:[],\r\n            searchHistory:['林俊杰','周杰伦','双笙'],\r\n        }\r\n    },\r\n    created(){\r\n        this.searchHistory=(JSON.parse(window.localStorage.getItem('searchHistory')) ? JSON.parse(window.localStorage.getItem('searchHistory')) : [])\r\n    },\r\n    methods:{\r\n    ...mapMutations(['addPlaySong','updatePlaylistIndex']),\r\n        async search(i){\r\n            if(i)\r\n            this.searchInput=i\r\n            if(this.searchInput){\r\n                const {data :res} = await this.$http.get('/search?keywords='+this.searchInput)\r\n                console.log(res,this.searchInput)\r\n                this.searchList=res.result.songs\r\n                this.addSearchHistory()\r\n                this.searchInput=''\r\n            }\r\n        },\r\n        addSearchHistory(){\r\n            if(this.searchInput){\r\n                this.searchHistory.unshift(this.searchInput)\r\n                this.searchHistory=[...new Set([...this.searchHistory])]\r\n                 this.searchHistory.splice(10)\r\n                window.localStorage.setItem('searchHistory',JSON.stringify(this.searchHistory))\r\n            }\r\n        },\r\n        deleteSearchHistory(){\r\n            window.localStorage.removeItem('searchHistory')\r\n            this.searchHistory=[]\r\n        },\r\n        play(item,i){\r\n            item.song={}\r\n            item.song.album={}\r\n            item.song.id=item.id\r\n            item.song.album.artists=item.artists\r\n            item.picUrl=item.album.artist.img1v1Url\r\n            this.addPlaySong(item)\r\n            //console.log(item);\r\n        },\r\n        getArtists(x){\r\n            var a=''\r\n            for(let i in x){\r\n                a+=x[i].name+'/'\r\n            }\r\n            return a\r\n        },\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n#search-top1{\r\n    width: 100%;\r\n    height: 1rem;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    #search_input{\r\n        width: 90%;\r\n        height: 0.6rem;\r\n        border: none;\r\n        border-bottom:1px solid gray ;\r\n    }\r\n}\r\n#search-top2{\r\n    width: 100%;\r\n    position:relative;\r\n    p{\r\n        display: inline-block;\r\n        font-weight: bolder;\r\n    }\r\n    span{\r\n        background-color: yellowgreen;\r\n        border-radius: 0.2rem;\r\n        display: inline-block;\r\n        margin: 0.1rem 0.2rem ;\r\n        padding: 0.1rem;\r\n\r\n    }\r\n    #delete_icon{\r\n        display: block;\r\n        position: absolute;\r\n        top: 0.2rem;\r\n        right: 0.1rem;\r\n    }\r\n}\r\n.right{\r\n  .van-icon{\r\n    width: 0.6rem;\r\n  }\r\n  .right-img{\r\n    float: right;\r\n\r\n  }\r\n}\r\n</style>","import { render } from \"./Search.vue?vue&type=template&id=5ea3a47c&scoped=true\"\nimport script from \"./Search.vue?vue&type=script&lang=js\"\nexport * from \"./Search.vue?vue&type=script&lang=js\"\n\nimport \"./Search.vue?vue&type=style&index=0&id=5ea3a47c&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\vue\\\\vue-music\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5ea3a47c\"]])\n\nexport default __exports__"],"names":["id","_createElementVNode","class","style","_createElementBlock","_createVNode","_component_van_icon","onClick","$router","push","name","size","type","$data","$event","onKeydown","$options","autofocus","_hoisted_3","_Fragment","_renderList","item","i","key","_hoisted_4","_createBlock","_component_van_row","align","_component_van_col","span","_toDisplayString","artists","offset","mvid","data","searchInput","searchList","searchHistory","created","this","JSON","parse","window","localStorage","getItem","methods","mapMutations","async","res","$http","get","console","log","result","songs","addSearchHistory","unshift","Set","splice","setItem","stringify","deleteSearchHistory","removeItem","play","song","album","picUrl","artist","img1v1Url","addPlaySong","getArtists","x","a","__exports__","render"],"sourceRoot":""}