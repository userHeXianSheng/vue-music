"use strict";(self["webpackChunkvue_music"]=self["webpackChunkvue_music"]||[]).push([[585],{585:function(e,t,o){o.r(t),o.d(t,{default:function(){return L}});var l=o(311);function n(e,t,o,n,a,s){const i=(0,l.resolveComponent)("PlaylistTop"),r=(0,l.resolveComponent)("PlaylistMusic");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createVNode)(i),(0,l.createVNode)(r)])}const a={id:"playlistTop"},s=["src"],i={class:"cover"},r={class:"leftCover"},c=["src"],d={class:"rightCover"};function p(e,t,o,n,p,m){const u=(0,l.resolveComponent)("van-button"),g=(0,l.resolveComponent)("van-grid-item"),v=(0,l.resolveComponent)("van-grid");return(0,l.openBlock)(),(0,l.createElementBlock)("div",a,[(0,l.createElementVNode)("img",{class:"imgTop",src:p.playlist.coverImgUrl,alt:""},null,8,s),(0,l.createElementVNode)("div",null,[(0,l.createVNode)(u,{style:{opacity:"0.2"},icon:"arrow-left",size:"mini",plain:"",onClick:m.onClickTopLeft},null,8,["onClick"])]),(0,l.createElementVNode)("div",i,[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("img",{class:"img",src:p.playlist.coverImgUrl,alt:""},null,8,c)]),(0,l.createElementVNode)("div",d,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(p.playlist.name),1),(0,l.createElementVNode)("span",null,(0,l.toDisplayString)(p.playlist.description),1)])]),(0,l.createVNode)(v,{border:!1,clickable:"","column-num":4,gutter:8},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(g,{icon:"chat-o","icon-color":"",text:p.playlist.commentCount+"",to:"/"},null,8,["text"]),(0,l.createVNode)(g,{icon:"share-o",text:p.playlist.shareCount+"",to:"/"},null,8,["text"]),(0,l.createVNode)(g,{icon:"down",text:"下载",to:"/"}),(0,l.createVNode)(g,{icon:"like-o",text:"收藏",to:"/"})])),_:1})])}var m={data(){return{playlist:{}}},methods:{async getPlayList(){const{data:e}=await this.$http.get("/playlist/detail?id="+this.$route.params.id);console.log(e),this.playlist=e.playlist},onClickTopLeft(){this.$router.back()}},created(){this.getPlayList()}},u=o(89);const g=(0,u.Z)(m,[["render",p],["__scopeId","data-v-4407d790"]]);var v=g;const y=e=>((0,l.pushScopeId)("data-v-51930172"),e=e(),(0,l.popScopeId)(),e),h={id:"musicList"},N={class:"musicTop"},V=y((()=>(0,l.createElementVNode)("span",null,"播放全部",-1))),k={style:{fontSize:"10px"}},C={style:{"margin-right":"0.2rem"}},f={class:"musicList"},E={style:{margin:"12px"}},x={style:{margin:"0px"}},w={style:{fontSize:"6px",color:"gray"}};function B(e,t,o,n,a,s){const i=(0,l.resolveComponent)("van-icon"),r=(0,l.resolveComponent)("van-col"),c=(0,l.resolveComponent)("van-row");return(0,l.openBlock)(),(0,l.createElementBlock)("div",h,[(0,l.createElementVNode)("div",N,[(0,l.createElementVNode)("div",null,[(0,l.createVNode)(i,{name:"play-circle-o",size:"0.4rem"}),V,(0,l.createElementVNode)("span",k,"(共"+(0,l.toDisplayString)(a.songs.length)+"首)",1)]),(0,l.createElementVNode)("div",C,[(0,l.createVNode)(i,{name:"bars",size:"0.4rem"})])]),(0,l.createElementVNode)("div",f,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(a.songs,((e,t)=>((0,l.openBlock)(),(0,l.createBlock)(c,{key:e.id,align:"center",style:{"margin-top":"10px",height:"1rem"}},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(r,{span:"2"},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("span",E,(0,l.toDisplayString)(t+1),1)])),_:2},1024),(0,l.createVNode)(r,{span:"16",class:"left",onClick:e=>s.play(t)},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("h4",x,(0,l.toDisplayString)(e.name),1),(0,l.createElementVNode)("span",w,(0,l.toDisplayString)(s.getArtists(e.song.artists)),1)])),_:2},1032,["onClick"]),(0,l.createVNode)(r,{span:"4",offset:"2",class:"right"},{default:(0,l.withCtx)((()=>[0!=e.song.mvid?((0,l.openBlock)(),(0,l.createBlock)(i,{key:0,name:"video-o",size:"0.6rem"})):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(i,{class:"right-img",name:"bars",size:"0.6rem"})])),_:2},1024)])),_:2},1024)))),128))])])}var S=o(294),_={data(){return{songs:[]}},methods:{...(0,S.mapMutations)(["updatePlaylist","updatePlaylistIndex"]),async getSongs(){const{data:e}=await this.$http.get("/personalized/newsong?limit=20");console.log(e),this.songs=e.result},getArtists(e){var t="";for(let o in e)t+=e[o].name+"/";return t},play(e){this.updatePlaylist(this.songs),this.updatePlaylistIndex(e)}},created(){this.getSongs()}};const P=(0,u.Z)(_,[["render",B],["__scopeId","data-v-51930172"]]);var b=P,z={data(){return{playList:[]}},components:{PlaylistTop:v,PlaylistMusic:b}};const I=(0,u.Z)(z,[["render",n]]);var L=I}}]);
//# sourceMappingURL=585.76e1a642.js.map