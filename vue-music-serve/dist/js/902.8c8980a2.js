"use strict";(self["webpackChunkvue_music"]=self["webpackChunkvue_music"]||[]).push([[902],{902:function(e,t,a){a.r(t),a.d(t,{default:function(){return j}});var o=a(311);const l=e=>((0,o.pushScopeId)("data-v-76d079d0"),e=e(),(0,o.popScopeId)(),e),n=["src"],i={class:"songSheet"},r=l((()=>(0,o.createElementVNode)("h3",null,"发现好歌单",-1))),s=(0,o.createTextVNode)("查看更多"),d={class:"songSheetItem",style:{"margin-right":"0.2rem"}},c=["src"],m={id:"newSongs"},p={class:"newSongs_top"},h=l((()=>(0,o.createElementVNode)("h3",null,"新声来袭",-1))),u=(0,o.createTextVNode)("查看更多"),g={class:"musicList"},v={style:{margin:"12px"}},V={style:{margin:"0px"}},N={style:{fontSize:"6px",color:"gray"}},w={id:"mvList"},y={class:"mvList_top"},C=l((()=>(0,o.createElementVNode)("h3",null,"MV推荐",-1))),x=(0,o.createTextVNode)("查看更多"),f={class:"mvListItem",style:{"margin-right":"0.2rem"}},k=["src"],S=l((()=>(0,o.createElementVNode)("div",{id:"Null"},null,-1))),E=(0,o.createTextVNode)("音乐馆"),_=(0,o.createTextVNode)("发现"),B={id:"login"},I=l((()=>(0,o.createElementVNode)("h2",null,"请登录账号",-1))),b=(0,o.createTextVNode)("登录"),L={id:"userInfo"},z=l((()=>(0,o.createElementVNode)("h2",null,"欢迎欢迎",-1))),D=[z],M={class:"search"};function T(e,t,a,l,z,T){const P=(0,o.resolveComponent)("van-swipe-item"),$=(0,o.resolveComponent)("van-swipe"),F=(0,o.resolveComponent)("van-grid-item"),U=(0,o.resolveComponent)("van-grid"),j=(0,o.resolveComponent)("van-button"),q=(0,o.resolveComponent)("van-icon"),A=(0,o.resolveComponent)("router-link"),Z=(0,o.resolveComponent)("van-col"),G=(0,o.resolveComponent)("van-row"),H=(0,o.resolveComponent)("van-tab"),J=(0,o.resolveComponent)("van-field"),K=(0,o.resolveComponent)("van-cell-group"),O=(0,o.resolveComponent)("van-tabs");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createVNode)(O,{active:z.activeName,"onUpdate:active":t[2]||(t[2]=e=>z.activeName=e),shrink:"","title-active-color":"black"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(H,{title:"推荐",name:"a",id:"swiper"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)($,{autoplay:3e3,"lazy-render":""},{default:(0,o.withCtx)((()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(z.swiperImages,(e=>((0,o.openBlock)(),(0,o.createBlock)(P,{key:e},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("img",{src:e.pic},null,8,n)])),_:2},1024)))),128))])),_:1}),(0,o.createVNode)(U,{border:!1,clickable:"","column-num":3,gutter:8},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(F,{icon:"smile-comment-o",text:"每日推荐",to:"/"}),(0,o.createVNode)(F,{icon:"tv-o",text:"私人FM",to:"/"}),(0,o.createVNode)(F,{icon:"fire",text:"排行榜",to:"/"})])),_:1}),(0,o.createElementVNode)("div",i,[r,(0,o.createVNode)(j,{plain:"",type:"default",round:"",size:"small"},{default:(0,o.withCtx)((()=>[s])),_:1})]),(0,o.createVNode)($,{id:"songSheetSwipe","show-indicators":!1,loop:!1,width:150,style:{height:"3.5rem"}},{default:(0,o.withCtx)((()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(z.songSheetList,(e=>((0,o.openBlock)(),(0,o.createBlock)(P,{key:e.id},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",d,[(0,o.createVNode)(A,{to:"/songSheetInfo/"+e.id},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("img",{src:e.picUrl,style:{width:"2.8rem",height:"2.8rem"}},null,8,c),(0,o.createElementVNode)("span",null,[(0,o.createVNode)(q,{name:"play-circle-o",size:"30px"}),(0,o.createTextVNode)((0,o.toDisplayString)(T.handlePlayCount(e.playCount)),1)]),(0,o.createElementVNode)("h5",null,(0,o.toDisplayString)(e.name),1)])),_:2},1032,["to"])])])),_:2},1024)))),128))])),_:1}),(0,o.createElementVNode)("div",m,[(0,o.createElementVNode)("div",p,[h,(0,o.createVNode)(j,{plain:"",type:"default",round:"",size:"small"},{default:(0,o.withCtx)((()=>[u])),_:1})]),(0,o.createElementVNode)("div",g,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(z.songs,((e,t)=>((0,o.openBlock)(),(0,o.createBlock)(G,{key:e.id,align:"center",style:{"margin-top":"10px",height:"1rem"}},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(Z,{span:"2"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("span",v,(0,o.toDisplayString)(t+1),1)])),_:2},1024),(0,o.createVNode)(Z,{span:"16",class:"left",onClick:t=>T.play(e)},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("h4",V,(0,o.toDisplayString)(e.name),1),(0,o.createElementVNode)("span",N,(0,o.toDisplayString)(T.getArtists(e.song.artists)),1)])),_:2},1032,["onClick"]),(0,o.createVNode)(Z,{span:"4",offset:"2",class:"right"},{default:(0,o.withCtx)((()=>[0!=e.song.mvid?((0,o.openBlock)(),(0,o.createBlock)(q,{key:0,name:"video-o",size:"0.6rem"})):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(q,{class:"right-img",name:"bars",size:"0.6rem"})])),_:2},1024)])),_:2},1024)))),128))]),(0,o.createElementVNode)("div",w,[(0,o.createElementVNode)("div",y,[C,(0,o.createVNode)(j,{plain:"",type:"default",round:"",size:"small"},{default:(0,o.withCtx)((()=>[x])),_:1})]),(0,o.createVNode)($,{class:"mvList_main","show-indicators":!1,loop:!1,width:200,style:{height:"3.5rem"}},{default:(0,o.withCtx)((()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(z.Mvs,(e=>((0,o.openBlock)(),(0,o.createBlock)(P,{key:e.id},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",f,[(0,o.createVNode)(A,{to:"/mv/"+e.id},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("img",{src:e.cover,style:{"max-width":"3.8rem",height:"2.8rem"}},null,8,k),(0,o.createElementVNode)("span",null,[(0,o.createVNode)(q,{name:"play-circle-o",size:"30px"}),(0,o.createTextVNode)((0,o.toDisplayString)(T.handlePlayCount(e.playCount)),1)]),(0,o.createElementVNode)("h4",null,(0,o.toDisplayString)(e.name),1)])),_:2},1032,["to"])])])),_:2},1024)))),128))])),_:1}),S])])])),_:1}),(0,o.createVNode)(H,{title:"音乐馆",name:"b"},{default:(0,o.withCtx)((()=>[E])),_:1}),(0,o.createVNode)(H,{title:"发现",name:"c"},{default:(0,o.withCtx)((()=>[_])),_:1}),(0,o.createVNode)(H,{title:"我的",name:"d"},{default:(0,o.withCtx)((()=>[(0,o.withDirectives)((0,o.createElementVNode)("div",B,[I,(0,o.createVNode)(K,{inset:""},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(J,{modelValue:z.tel,"onUpdate:modelValue":t[0]||(t[0]=e=>z.tel=e),type:"tel",error:"",required:"",label:"手机号",placeholder:"请输入手机号"},null,8,["modelValue"]),(0,o.createVNode)(J,{modelValue:z.password,"onUpdate:modelValue":t[1]||(t[1]=e=>z.password=e),type:"password",required:"",label:"密码",placeholder:"请输入密码"},null,8,["modelValue"])])),_:1}),(0,o.createVNode)(j,{onClick:T.login},{default:(0,o.withCtx)((()=>[b])),_:1},8,["onClick"])],512),[[o.vShow,!e.islogin]]),(0,o.withDirectives)((0,o.createElementVNode)("div",L,D,512),[[o.vShow,e.islogin]])])),_:1})])),_:1},8,["active"]),(0,o.createElementVNode)("span",M,[(0,o.createVNode)(q,{onClick:t[3]||(t[3]=e=>this.$router.push("/search")),name:"search",size:"0.5rem"})])])}var P=a(294),$={data(){return{activeName:"a",swiperImages:["https://fastly.jsdelivr.net/npm/@vant/assets/apple-1.jpeg"],songSheetList:[],tel:123456,password:111,songs:[],Mvs:[]}},methods:{async getSwiperImages(){const{data:e}=await this.$http.get("/banner?type=2");this.swiperImages=e.banners},async getSongSheet(){const{data:e}=await this.$http.get("/personalized?limit=10");console.log(e),this.songSheetList=e.result},handlePlayCount(e){return e>1e4?(e/1e4).toFixed(2)+"万":e<1e4?e:void 0},login(){123456==this.tel&&111==this.password?(this.$store.commit("updateLogin",!0),window.localStorage.setItem("token","xxx")):window.alert("登陆失败")},...(0,P.mapMutations)(["addPlaySong","updatePlaylist","updatePlaylistIndex"]),async getSongs(){const{data:e}=await this.$http.get("/personalized/newsong?limit=4");console.log(e),this.songs=e.result},getArtists(e){var t="";for(let a in e)t+=e[a].name+"/";return t},play(e){this.addPlaySong(e)},async getMvs(){const{data:e}=await this.$http.get("/mv/first?limit=8");console.log(e),this.Mvs=e.data}},computed:{...(0,P.mapState)(["islogin"])},created(){this.getSwiperImages(),this.getSongSheet(),this.getSongs(),this.getMvs(),window.localStorage.getItem("token")&&this.$store.commit("updateLogin",!0)}},F=a(89);const U=(0,F.Z)($,[["render",T],["__scopeId","data-v-76d079d0"]]);var j=U}}]);
//# sourceMappingURL=902.8c8980a2.js.map